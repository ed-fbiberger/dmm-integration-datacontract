dataContractSpecification: "1.1.0"
id: "orders_data_mart"
info:
  title: "Orders Data Mart"
  version: "1.0.0"
  description: "Orders data mart containing facts and dimensions for order analysis."
  status: "proposed"
  owner: "sales-team"
models:
  fact_orders:
    description: "Fact table containing order information."
    title: "Fact Orders"
    fields:
      ORDER_ID:
        type: "string"
        description: "Unique identifier for each order."
        title: "Order ID"
        primaryKey: true
      CUSTOMER_ID:
        type: "string"
        description: "Unique identifier for the customer who placed the order."
        title: "Customer ID"
        required: true
        references: "dim_customers.CUSTOMER_ID"
      ORDER_DATE:
        type: "timestamp"
        description: "Date the order was created."
        title: "Order Date"
        required: true
      ORDER_TOTAL:
        type: "decimal"
        description: "Total amount for the order."
        title: "Order Total"
        required: true
        precision: 38
        scale: 2
      SHIPPING_METHOD_ID:
        type: "string"
        description: "Identifier for the shipping method."
        title: "Shipping Method ID"
        required: true
        references: "dim_shipping_methods.SHIPPING_METHOD_ID"
      PROMOTION_ID:
        type: "string"
        description: "Applied promotion for the order."
        title: "Promotion ID"
        references: "dim_promotions.PROMOTION_ID"
      STATUS_ID:
        type: "string"
        description: "Current status of the order."
        title: "Status ID"
        required: true
        references: "dim_order_status.STATUS_ID"
      REGION_ID:
        type: "string"
        description: "Identifier for the region of the order."
        title: "Region ID"
        references: "dim_regions.REGION_ID"
  fact_line_items:
    description: "Fact table containing line item details for each order."
    title: "Fact Line Items"
    fields:
      LINE_ITEM_ID:
        type: "string"
        description: "Unique identifier for each line item."
        title: "Line Item ID"
        primaryKey: true
      ORDER_ID:
        type: "string"
        description: "Identifier of the associated order."
        title: "Order ID"
        required: true
        references: "fact_orders.ORDER_ID"
      ARTICLE_SKU:
        type: "string"
        description: "Stock-keeping unit for the item."
        title: "Article SKU"
        required: true
        references: "dim_products.PRODUCT_ID"
      QUANTITY:
        type: "integer"
        description: "Quantity of the item ordered."
        title: "Quantity"
        required: true
      LINE_TOTAL:
        type: "decimal"
        description: "Total amount for the line item."
        title: "Line Total"
        required: true
        precision: 12
        scale: 2
  fact_shipments:
    description: "Fact table containing shipment details for orders."
    title: "Fact Shipments"
    fields:
      SHIPMENT_ID:
        type: "string"
        description: "Unique identifier for each shipment."
        title: "Shipment ID"
        primaryKey: true
      ORDER_ID:
        type: "string"
        description: "Identifier of the associated order."
        title: "Order ID"
        required: true
        references: "fact_orders.ORDER_ID"
      SHIPPING_METHOD_ID:
        type: "string"
        description: "Identifier for the shipping method."
        title: "Shipping Method ID"
        required: true
        references: "dim_shipping_methods.SHIPPING_METHOD_ID"
      SHIPMENT_DATE:
        type: "timestamp"
        description: "Date the shipment was dispatched."
        title: "Shipment Date"
        required: true
      REGION_ID:
        type: "string"
        description: "Identifier for the destination region of the shipment."
        title: "Region ID"
        required: true
        references: "dim_regions.REGION_ID"
      CARRIER_ID:
        type: "string"
        description: "Identifier for the carrier responsible for the shipment."
        title: "Carrier ID"
        required: true
        references: "dim_carriers.CARRIER_ID"
  dim_customers:
    description: "Dimension table containing customer information."
    title: "Dimension Customers"
    fields:
      CUSTOMER_ID:
        type: "string"
        description: "Unique identifier for each customer."
        title: "Customer ID"
        primaryKey: true
      CUSTOMER_NAME:
        type: "string"
        description: "Full name of the customer."
        title: "Customer Name"
        required: true
      EMAIL:
        type: "string"
        description: "Customer's email address."
        title: "Email"
        pii: true
      PHONE_NUMBER:
        type: "string"
        description: "Customer's phone number."
        title: "Phone Number"
        pii: true
  dim_products:
    description: "Dimension table containing product information."
    title: "Dimension Products"
    fields:
      PRODUCT_ID:
        type: "string"
        description: "Unique identifier for each product."
        title: "Product ID"
        primaryKey: true
      PRODUCT_NAME:
        type: "string"
        description: "Name of the product."
        title: "Product Name"
      CATEGORY:
        type: "string"
        description: "Product category."
        title: "Category"
      PRICE:
        type: "decimal"
        description: "Unit price of the product."
        title: "Price"
        required: true
        precision: 12
        scale: 2
  dim_shipping_methods:
    description: "Dimension table containing shipping method details."
    title: "Dimension Shipping Methods"
    fields:
      SHIPPING_METHOD_ID:
        type: "string"
        description: "Unique identifier for each shipping method."
        title: "Shipping Method ID"
        primaryKey: true
      METHOD_NAME:
        type: "string"
        description: "Name of the shipping method (e.g., Standard, Express)."
        title: "Method Name"
        required: true
  dim_carriers:
    description: "Dimension table containing carrier details."
    title: "Dimension Carriers"
    fields:
      CARRIER_ID:
        type: "string"
        description: "Unique identifier for each carrier."
        title: "Carrier ID"
        primaryKey: true
      CARRIER_NAME:
        type: "string"
        description: "Name of the carrier company."
        title: "Carrier Name"
        required: true
  dim_regions:
    description: "Dimension table containing regional information."
    title: "Dimension Regions"
    fields:
      REGION_ID:
        type: "string"
        description: "Unique identifier for each region."
        title: "Region ID"
        primaryKey: true
      REGION_NAME:
        type: "string"
        description: "Name of the region."
        title: "Region Name"
  dim_promotions:
    description: "Dimension table containing promotion details."
    title: "Dimension Promotions"
    fields:
      PROMOTION_ID:
        type: "string"
        description: "Unique identifier for each promotion."
        title: "Promotion ID"
        primaryKey: true
      PROMOTION_NAME:
        type: "string"
        description: "Name of the promotion."
        title: "Promotion Name"
      DISCOUNT_PERCENTAGE:
        type: "decimal"
        description: "Percentage discount offered by the promotion."
        title: "Discount Percentage"
        precision: 5
        scale: 2
